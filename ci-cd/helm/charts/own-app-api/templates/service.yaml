apiVersion: "v1"
kind: "Service"
metadata:
  namespace: "{{ .Release.Namespace }}"
  name: {{ include "own-app-api.name" . }}-service
  labels:
{{ include "own-app-api.labels" .  | indent 4 }}
spec:
  type: "ClusterIP"
  ports:
    - protocol: "TCP"
      name: "http"
      port: 80
      targetPort: {{ .Values.port }}
  sessionAffinity: "ClientIP"
  selector:
{{ include "own-app-api.selectorLabels" .  | indent 4 }}
